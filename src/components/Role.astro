---
import { Image } from "astro:assets";

const { role } = Astro.props;

let startLabel = typeof role.start === "string" ? role.start : role.start.label;
let startDate =
  typeof role.start === "string" ? role.start : role.start.dateTime;

let endLabel = typeof role.end === "string" ? role.end : role.end.label;
let endDate = typeof role.end === "string" ? role.end : role.end.dateTime;
---

<li class="flex gap-4">
  <div
    class="relative mt-1 flex h-10 w-10 flex-none items-center justify-center rounded-full shadow-md shadow-zinc-800/5 ring-zinc-900/5 border border-zinc-700/50 bg-zinc-800"
  >
    <Image src={role.logo} alt="" class="h-7 w-7" />
  </div>
  <dl class="flex flex-auto flex-wrap gap-x-2">
    <dt class="sr-only">Company</dt>
    <dd
      class="w-full flex-none text-sm font-medium text-zinc-100"
    >
      {role.company}
    </dd>
    <dt class="sr-only">Role</dt>
    <dd class="text-xs text-zinc-400">
      {role.title}
    </dd>
    <dt class="sr-only">Date</dt>
    <dd
      class="ml-auto text-xs text-zinc-500"
      aria-label={`${startLabel} until ${endLabel}`}
    >
      <time date-time={startDate}>{startLabel}</time>{" "}
      <span aria-hidden="true">â€”</span>{" "}
      <time date-time={endDate}>{endLabel}</time>
    </dd>
  </dl>
</li>
